#include "Game.h"

int main()
{
    setlocale(LC_ALL, "ru");

    Game game; // Создание объекта игры

    // Загрузка имён учеников из файла
    if (!game.LoadNames("Names.txt"))
    {
        return 1;
    }

    int rounds = -1; // Переменная для хранения количества раундов игры

    // Цикл для ввода количества раундов
    while (true)
    {
        rounds = game.readInt("Введите количество раундов игры (целое неотрицательное число): ");
        if (rounds < 0)
        {
            cout << "Число должно быть неотрицательным." << endl;
            continue; // Если введено отрицательное число, повторяем запрос
        }
        break; // Если число корректное, выходим из цикла
    }

    // Если пользователь ввёл 0 раундов — игра не начинается, выводим сообщение и завершаем программу
    if (rounds == 0)
    {
        cout << "Ребята разошлись по домам." << endl;
        return 0;
    }

    game.Play(rounds); // Запускаем игру на заданное количество раундов
    game.PrintResults(); // Выводим итоговые результаты игры

    return 0;
}